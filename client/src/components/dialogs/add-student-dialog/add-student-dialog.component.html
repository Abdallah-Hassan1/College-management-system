<div class="form">
  <h2 id="registration" class="mb-6">Adding Student</h2>
  <button
    mat-flat-button
    color="primary"
    onclick="document.getElementById('uploadphoto')?.click()"
    class="uploadBut"
  >
    Upload Photo
  </button>

  <form (ngSubmit)="onSubmit()" #myForm="ngForm">
    <div ngModelGroup="personDetails" #personalDetail="ngModelGroup">
      <div class="mb-4">
        <img
          [src]="ImgSrc"
          width="200"
          height="200"
          class="float-right overflow-visible rounded-full"
        />
        <mat-label class="font-mono text-base">Personal Photo: </mat-label>
        <input
          id="uploadphoto"
          class="hidden"
          type="file"
          (change)="OnFileSelected($event)"
        />
      </div>
      <mat-form-field class="Fullnamegroup" appearance="outline">
        <mat-label>Full name</mat-label>
        <input
          matInput
          type="text"
          id="fullname"
          name="fullname"
          ngModel
          required
          #fname="ngModel"
          pattern="[a-zA-Z ]*"
        />
      </mat-form-field>

      <mat-form-field class="ssngroup" appearance="outline">
        <mat-label>SSN</mat-label>
        <input
          matInput
          type="text"
          id="ssn"
          name="ssn"
          ngModel
          required
          #fname="ngModel"
        />
      </mat-form-field>

      <mat-form-field appearance="outline" class="emailgroup">
        <mat-label>Email</mat-label>
        <input
          matInput
          placeholder="pat@example.com"
          [formControl]="email"
          required
          [(ngModel)]="PersonEmail"
        />
        <!-- <mat-error *ngIf="email.invalid">{{ getErrorMessage() }}</mat-error> -->
      </mat-form-field>

      <mat-form-field class="phoneroup" appearance="outline">
        <mat-label>Phone Number</mat-label>
        <input
          matInput
          type="text"
          id="phonenumber"
          name="phonenumber"
          ngModel
          required
          #fname="ngModel"
        />
      </mat-form-field>

      <mat-form-field class="adressgroup" appearance="outline">
        <mat-label>Address</mat-label>
        <input
          matInput
          type="text"
          id="Address"
          name="Address"
          ngModel
          required
          #fname="ngModel"
        />
      </mat-form-field>
      <mat-checkbox [(ngModel)]="FEES" [ngModelOptions]="{ standalone: true }"
        >FEES</mat-checkbox
      >
    </div>

    <mat-form-field appearance="fill">
      <mat-label>Academic Year</mat-label>
      <mat-select id="year" name="year" ngModel>
        <mat-option value="1">1</mat-option>
        <mat-option value="2">2</mat-option>
        <mat-option value="3">3</mat-option>
        <mat-option value="4">4</mat-option>
        <mat-option value="5">5</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="fill" class="dataofbirth">
      <mat-label>Data of Birth</mat-label>
      <input
        matInput
        [matDatepicker]="picker2"
        [formControl]="serializedDate"
      />
      <mat-hint>MM/DD/YYYY</mat-hint>
      <mat-datepicker-toggle
        matIconSuffix
        [for]="picker2"
      ></mat-datepicker-toggle>
      <mat-datepicker #picker2></mat-datepicker>
    </mat-form-field>

    <mat-form-field appearance="fill" class="mr-2">
      <mat-label>Department</mat-label>
      <mat-select name="Department" ngModel>
        <mat-option value="Preparatory">Preparatory</mat-option>
        <mat-option value="Electrical Engineering-General"
          >Electrical Engineering - General</mat-option
        >
        <mat-option value="Computer Engineering"
          >Computer Engineering</mat-option
        >
        <mat-option value="Communication and Electronics engineering"
          >Communication and Electronics engineering</mat-option
        >
        <mat-option value="Electrical Power Engineering"
          >Electrical Power Engineering</mat-option
        >
        <mat-option value="Civil Engineering">Civil Engineering</mat-option>
        <mat-option value="architecture Engineering"
          >architecture Engineering</mat-option
        >
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="fill" class="mr-2">
      <mat-label>Enter student password</mat-label>
      <input
        matInput
        [type]="hide ? 'password' : 'text'"
        name="Password"
        id="pass-field"
        ngModel
        required
      />
      <button
        mat-icon-button
        matSuffix
        (click)="hide = !hide"
        [attr.aria-label]="'Hide password'"
        [attr.aria-pressed]="hide"
      >
        <mat-icon>{{ hide ? "visibility_off" : "visibility" }}</mat-icon>
      </button>
    </mat-form-field>

    <label id="Gender" class="font-bold">Gender: </label>
    <mat-radio-group
      aria-labelledby="example-radio-group-label"
      [(ngModel)]="PersonGender"
      name="gender"
    >
      <mat-radio-button *ngFor="let gender of genders" [value]="gender">
        {{ gender }}
      </mat-radio-button>
    </mat-radio-group>

    <div>
      <small *ngIf="personalDetail.invalid && personalDetail.touched"
        >Some of the required fields does not have valid value.</small
      >
    </div>

    <button
      mat-raised-button
      color="primary"
      type="submit"
      value="Submit"
      id="btn"
      [hidden]="!myForm.valid"
    >
      Add Student
    </button>
    <button mat-raised-button disabled class="disabled" [hidden]="myForm.valid">
      Add Student
    </button>
    <button mat-raised-button color="primary" type="button" (click)="onClose()">
      Close
    </button>
  </form>
</div>
